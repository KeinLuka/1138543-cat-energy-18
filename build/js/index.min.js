var form=document.querySelector(".form");if(form){var submitFormButton=form.querySelector(".form__btn"),nameInput=form.querySelector("#name-cat"),weightInput=form.querySelector("#weight-cat"),mailInput=form.querySelector("#master__e-mail"),svgMailInput=form.querySelector(".form__master-svg--mail"),phoneInput=form.querySelector("#master__phone"),svgPhoneInput=form.querySelector(".form__master-svg--phone"),mailRegEx=/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,mailInputRegEx=/[А-я]/g,numberRegEx=/[^\d]/g;form.noValidate=!0}var testMail=function(){mailInput.value=mailInput.value.replace(mailInputRegEx,"")},testPhone=function(){phoneInput.value=phoneInput.value.replace(numberRegEx,"")},testWeight=function(){weightInput.value=weightInput.value.replace(numberRegEx,"")},removeErrorStyle=function(e){e.target.style=null},nameInputChangeHandler=function(e){removeErrorStyle(e)},weightInputChangeHandler=function(e){removeErrorStyle(e),testWeight()},mailInputChangeHandler=function(e){removeErrorStyle(e),svgMailInput.style.fill="#68b738",testMail()},mailInputBlurHandler=function(e){svgMailInput.style.fill=null},phoneInputChangeHandler=function(e){removeErrorStyle(e),svgPhoneInput.style.fill="#68b738",testPhone()},checkNameInputValidity=function(){var e=!0;return""===nameInput.value&&(e=!1),e},checkWeightInputValidity=function(){var e=!0;return""===weightInput.value&&(e=!1),e},checkMailInputValidity=function(){var e=!0;return mailRegEx.test(mailInput.value)||(e=!1),e},checkPhoneInputValidity=function(){var e=!0;return(""===phoneInput.value||phoneInput.value.length<6)&&(e=!1),e},checkInputsValidity=function(){checkNameInputValidity()||(nameInput.style.boxShadow="0 0 3px #ff8282"),checkWeightInputValidity()||(weightInput.style.boxShadow="0 0 3px #ff8282"),checkMailInputValidity()||(mailInput.style.boxShadow="0 0 3px #ff8282",svgMailInput.style.fill="#ff8282"),checkPhoneInputValidity()||(phoneInput.style.boxShadow="0 0 3px #ff8282",svgPhoneInput.style.fill="#ff8282")},formSubmitHendler=function(e){checkInputsValidity(),checkNameInputValidity()&&checkWeightInputValidity()&&checkMailInputValidity()&&checkPhoneInputValidity()||e.preventDefault()};nameInput&&nameInput.addEventListener("input",nameInputChangeHandler),weightInput&&weightInput.addEventListener("input",weightInputChangeHandler),mailInput&&(mailInput.addEventListener("input",mailInputChangeHandler),mailInput.addEventListener("blur",mailInputBlurHandler)),phoneInput&&phoneInput.addEventListener("input",phoneInputChangeHandler),form&&form.addEventListener("submit",formSubmitHendler);var sliderInputRange=document.querySelector("#range-slider"),sliderImageBefore=document.querySelector(".slider__slide--before"),setBreakpoint=function(){768<window.innerWidth&&window.innerWidth,sliderInputRange.value=50,sliderImageBefore.style.width=sliderInputRange.value+"%"};if(sliderInputRange&&sliderImageBefore){var hiddenImage=function(){sliderImageBefore.style.width=100-sliderInputRange.value+"%"};hiddenImage(),sliderInputRange.addEventListener("input",hiddenImage),window.addEventListener("resize",setBreakpoint)}var breakpoint,centers={mobile:[59.938631,30.323055],tablet:[59.938715,30.323078],desktop:[59.93859,30.31977]},zooms={mobile:17,tablet:18,desktop:17},mapBlock=document.querySelector(".map");(setBreakpoint=function(){breakpoint="mobile",768<=window.innerWidth&&(breakpoint="tablet"),1300<=window.innerWidth&&(breakpoint="desktop")})(),window.ymaps.ready(function(){var e=new window.ymaps.Map("map",{center:centers[breakpoint],controls:[],zoom:zooms[breakpoint]}),n=new ymaps.Placemark([59.938631,30.323055],{hintContent:"наш магазин"},{iconLayout:"default#image",iconImageHref:"img/map-pin.png",iconImageSize:[113,106],iconImageOffset:[-53,-120]});e.geoObjects.add(n),e.behaviors.disable("scrollZoom"),window.addEventListener("resize",function(){setBreakpoint(),e.setCenter(centers[breakpoint],zooms[breakpoint])})});var menuBtn=document.querySelector(".header-navigation__button"),menuNavigation=document.querySelector(".main-navigation__list");menuBtn.classList.remove("header-navigation__button--close"),menuNavigation.classList.add("main-navigation__list--hidden");var toggleMenu=function(){menuBtn.classList.toggle("header-navigation__button--close"),menuNavigation.classList.toggle("main-navigation__list--hidden")};menuBtn.addEventListener("click",toggleMenu);